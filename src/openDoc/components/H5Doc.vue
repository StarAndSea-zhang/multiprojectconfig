<template>
  <a-layout class="box-layout-container">
    <a-layout-sider style="flex: 0 0 300px!important;max-width: inherit;min-width: inherit;width:auto;">
    <!--  目录-->
      <div class='md-toc' mdtype='toc'>
        <p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n223"><a class="md-toc-inner" style="cursor: pointer;" href="#接入说明">接入说明</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n26"><a class="md-toc-inner" style="cursor: pointer;" href="#gameboxjsdk使用步骤">GameBoxJSDK使用步骤</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n27"><a class="md-toc-inner" style="cursor: pointer;" href="#接入准备">接入准备</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n42"><a class="md-toc-inner" style="cursor: pointer;" href="#步骤二引入js文件">步骤二:引入JS文件</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n50"><a class="md-toc-inner" style="cursor: pointer;" href="#es5使用ruanyo-jbox-es5-101js导入">Es5使用ruanyo-jbox-es5-1.0.1.js导入</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n57"><a class="md-toc-inner" style="cursor: pointer;" href="#步骤三接口调用说明">步骤三:接口调用说明</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n60"><a class="md-toc-inner" style="cursor: pointer;" href="#基础接口">基础接口</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n61"><a class="md-toc-inner" style="cursor: pointer;" href="#1获取用户信息接口">1获取用户信息接口</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n102"><a class="md-toc-inner" style="cursor: pointer;" href="#2平台支付接口">2平台支付接口</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n153"><a class="md-toc-inner" style="cursor: pointer;" href="#3支付回调通知">3支付回调通知</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n214"><a class="md-toc-inner" style="cursor: pointer;" href="#签名说明">签名说明</a></span></p></div>
    </a-layout-sider>
    <a-layout-content>
      <div  id='write'  class = 'is-node'><h1><a name="游戏盒子h5接口文档" class="md-header-anchor"></a><span>游戏盒子H5接口文档</span></h1><figure><table><thead><tr><th><span>作者</span></th><th><span>时间</span></th><th><span>说明</span></th><th><span>版本</span></th></tr></thead><tbody><tr><td><span>研发团队</span></td><td><span>2019.03</span></td><td><span>创建接口文档</span></td><td><span>V1.0.0</span></td></tr><tr><td><span>张宇</span></td><td><span>2020-3-6</span></td><td><span>添加了获取用户信息接口</span></td><td><span>V1.0.1</span></td></tr><tr><td><span>张宇</span></td><td><span>2020-3-7</span></td><td><span>提供es5版本的jsdk</span></td><td><span>V1.0.2</span></td></tr></tbody></table></figure><h2><a name="接入说明" class="md-header-anchor"></a><span>接入说明</span></h2><blockquote><p><span>游戏盒子是面向H5端游戏开发者提供的基于微信公众号内的网页开发工具。通过接入GameBoxJSDK,网页开发者可借助平台推广游戏,同时可通过微信公众号让用户体验游戏,完成支付等功能。</span>
        <span>此文档只面向应用网页端开发者介绍游戏盒子如何使用及相关注意事项。</span></p></blockquote><h2><a name="gameboxjsdk使用步骤" class="md-header-anchor"></a><span>GameBoxJSDK使用步骤</span></h2><h3><a name="接入准备" class="md-header-anchor"></a><span>接入准备</span></h3><blockquote><p><span>接入游戏盒子，需向游戏盒子平台申请如下参数：</span></p></blockquote><figure><table><thead><tr><th><span>gsn</span></th><th><span>App编码</span></th></tr></thead><tbody><tr><td><span>key</span></td><td><span>安全密钥</span></td></tr><tr><td><span>payKey</span></td><td><span>支付安全秘钥</span></td></tr></tbody></table></figure><blockquote><p><span>说明：具体获取方式以及服务地址请联系相关商务对接人员 </span></p></blockquote><h3><a name="步骤二引入js文件" class="md-header-anchor"></a><span>步骤二:引入JS文件</span></h3><blockquote><p><span>在需要调用JS接口的页面引入GameBoxJSDK的js文件(接入平台后提供)</span></p></blockquote><p><span>支持es5链接（正式环境）:</span><a href='http://player.bbox.dx-dj.com/ruanyo-jbox-es5-1.0.1.js' target='_blank' class='url'>http://player.bbox.dx-dj.com/ruanyo-jbox-es5-1.0.1.js</a></p>
        <p><span>支持es5链接（测试环境）:</span><a href='http://player.test.bbox.dx-dj.com/ruanyo-jbox-es5-1.0.1.js' target='_blank' class='url'>http://player.test.bbox.dx-dj.com/ruanyo-jbox-es5-1.0.1.js</a></p><p><span>支持es6及以上链接（正式环境）:</span><a href='http://player.bbox.dx-dj.com/ruanyo-jbox-1.0.1.js' target='_blank' class='url'>http://player.bbox.dx-dj.com/ruanyo-jbox-1.0.1.js</a></p><p><span>支持es6及以上链接(测试环境):</span><a href='http://player.test.bbox.dx-dj.com/ruanyo-jbox-1.0.1.js' target='_blank' class='url'>http://player.test.bbox.dx-dj.com/ruanyo-jbox-1.0.1.js</a></p><blockquote><p><span>Es6使用ruanyo-jbox-1.0.1.js进行导入,可结合async await 获取回调参数</span></p></blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">import  {GameBoxJSDK} from 'ruanyo-jbox-1.0.1';</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><h3><a name="es5使用ruanyo-jbox-es5-101js导入" class="md-header-anchor"></a><span>Es5使用ruanyo-jbox-es5-1.0.1.js导入</span></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;script src="ruanyo-jbox-es5-1.0.1.js"&gt;&lt;/script&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>或</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">require('./utils/ruanyo-jbox-1.0.1-es5');</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><blockquote><p><span>如果您还有不了解 的地方,可通过以下地址下载demo</span></p></blockquote><p><a href='http://player.bbox.dx-dj.com/bboxjsdk-demo.zip' target='_blank' class='url'>http://player.bbox.dx-dj.com/bboxjsdk-demo.zip</a></p><h3><a name="步骤三接口调用说明" class="md-header-anchor"></a><span>步骤三:接口调用说明</span></h3><blockquote><p><span>在需要使用GameBoxJSDK引入文件后,通过GameBoxJSDK进行调用</span></p></blockquote><h4><a name="基础接口" class="md-header-anchor"></a><span>基础接口</span></h4><h5><a name="1获取用户信息接口" class="md-header-anchor"></a><span>1获取用户信息接口</span></h5><p><span>参数说明：</span></p><figure><table><thead><tr><th><span>参数名称</span></th><th><span>说明</span></th><th><span>是否必填</span></th><th><span>类型</span></th></tr></thead><tbody><tr><td><span>gsn</span></td><td><span>游戏平台的appId</span></td><td><span>是</span></td><td><span>String</span></td></tr></tbody></table></figure><blockquote><p><span>es6 可搭配async 和 await使用 </span></p></blockquote><p><span>示例:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="js"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="js"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">getUserInfo</span>(<span class="cm-variable">gsn</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">res</span> <span class="cm-operator">=</span> <span class="cm-keyword">await</span> <span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">getUserInfo</span>(<span class="cm-variable">gsn</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//或通过链式编程调用</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">getUserInfo</span>(<span class="cm-variable">gsn</span>).<span class="cm-property">then</span> (<span class="cm-def">success</span><span class="cm-operator">=&gt;</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> },<span class="cm-def">fail</span><span class="cm-operator">=&gt;</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><p><strong><span>es5示例</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="js"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="js"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">getUserInfo</span>({</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">gsn</span>:<span class="cm-string">'1522256325448754'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">success</span>:<span class="cm-keyword">function</span> (<span class="cm-def">success</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  },</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">fail</span>:<span class="cm-keyword">function</span> (<span class="cm-def">fail</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  });</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 207px;"></div></div></div></pre><p><strong><span>回调参数说明</span></strong></p><figure><table><thead><tr><th><span>参数名称</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><span>id</span></td><td><span>用户id,作为账号的唯一标识</span></td></tr><tr><td><span>headimgurl</span></td><td><span>头像</span></td></tr><tr><td><span>nickname</span></td><td><span>用户昵称</span></td></tr><tr><td><span>mobile</span></td><td><span>手机号</span></td></tr><tr><td><span>isCert</span></td><td><span>是否实名认证,1为已认证,0为未认证</span></td></tr></tbody></table></figure><p><span>回调参数示例:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  code: "success",</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; msg: "获取用户信息成功",</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; data:{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; id:'',</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; headimgurl:'',</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; nickname:'',</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; mobile:'',</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; isCert:'1'</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><h5><a name="2平台支付接口" class="md-header-anchor"></a><span>2平台支付接口</span></h5><p><strong><span>参数说明：</span></strong></p><figure><table><thead><tr><th><span>参数名称</span></th><th><span>说明</span></th><th><span>是否必填</span></th><th><span>类型</span></th></tr></thead><tbody><tr><td><span>gsn</span></td><td><span>游戏平台的appId</span></td><td><span>是</span></td><td><span>String</span></td></tr><tr><td><span>sign</span></td><td><span>签名参数，计算规则请参考签名说明</span></td><td><span>是</span></td><td><span>String</span></td></tr><tr><td><span>timestamp</span></td><td><span>时间戳，标准北京时间，时区为东八区，自1970年1月1日 0点0分0秒以来的秒数</span></td><td><span>是</span></td><td><span>String</span></td></tr><tr><td><span>body</span></td><td><span>支付时需要显示的商户名称</span></td><td><span>是</span></td><td><span>String</span></td></tr><tr><td><span>amount</span></td><td><span>支付金额</span></td><td><span>是</span></td><td><span>String</span></td></tr><tr><td><span>out_trade_no</span></td><td><span>订单号</span></td><td><span>是</span></td><td><span>String</span></td></tr><tr><td><span>notify_url</span></td><td><span>异步接收支付结果通知的回调地址，通知url必须为外网可访问的url，不能携带参数</span></td><td><span>是</span></td><td><span>String</span></td></tr></tbody></table></figure><p><strong><span>es6示例:</span></strong></p><blockquote><p><span>可搭配async 和 await使用</span></p></blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="js" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="js"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">/**</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * 充值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * @param gsn 游戏注册平台的appId</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * @param timestamp 时间戳</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * @param productName 商品名称</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * @param amount 商品金额</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * @param out_trade_no 订单编号</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; * @param notify_url回调的URL</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"> &nbsp; */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">res</span> <span class="cm-operator">=</span> <span class="cm-keyword">await</span> <span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">recharge</span>(<span class="cm-variable">gsn</span>,<span class="cm-variable">timestamp</span>,<span class="cm-variable">sign</span>,<span class="cm-variable">body</span>,<span class="cm-variable">amount</span>,<span class="cm-variable">out_trade_no</span>,<span class="cm-variable">notify_url</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">或</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">recharge</span>(<span class="cm-variable">gsn</span>,<span class="cm-variable">timestamp</span>,<span class="cm-variable">sign</span>,<span class="cm-variable">body</span>,<span class="cm-variable">amount</span>,<span class="cm-variable">out_trade_no</span>,<span class="cm-variable">notify_url</span>).<span class="cm-property">then</span> (<span class="cm-def">success</span><span class="cm-operator">=&gt;</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> },<span class="cm-def">fail</span><span class="cm-operator">=&gt;</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 483px;"></div><div class="CodeMirror-gutters" style="display: none; height: 483px;"></div></div></div></pre><p><strong><span>es5示例</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="js" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="js"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">GameBoxJSDK</span>.<span class="cm-property">recharge</span>({</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">gsn</span>:<span class="cm-string">'1522256325448754'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">timestamp</span>:<span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Date</span>() <span class="cm-operator">/</span> <span class="cm-number">1000</span>) <span class="cm-operator">+</span> <span class="cm-string">''</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">sign</span>:<span class="cm-string">'wxsposdu0923123'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">body</span>:<span class="cm-string">'您的游戏名称'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">amount</span>:<span class="cm-string">'0.01'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">out_trade_no</span>:<span class="cm-operator">+</span> <span class="cm-variable">Math</span>.<span class="cm-property">random</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">notify_url</span>:<span class="cm-string">'/'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">success</span>:<span class="cm-keyword">function</span> (<span class="cm-def">success</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  },</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">fail</span>:<span class="cm-keyword">function</span> (<span class="cm-def">fail</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  });</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 345px;"></div><div class="CodeMirror-gutters" style="display: none; height: 345px;"></div></div></div></pre><p><strong><span>接口回调参数说明</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">//成功</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  code: "success",</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; msg: "创建订单成功,等待支付",</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; data:{}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">//失败</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  code: "fail",</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; msg: "创建支付超时",</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; data:{}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><h5><a name="3支付回调通知" class="md-header-anchor"></a><span>3支付回调通知</span></h5><blockquote><p><span>支付完成后，通过【平台支付接口】中提交的参数notify_url设置。会把相关支付结果及用户信息通过数据流的形式 POST 发送给接入方，接入方需要接收处理，并按文档规范返回应答。</span></p></blockquote><blockquote><p><span>说明：</span>
        <span>同样的通知可能会多次发送。接入方必须能够正确处理重复的通知，后台通知交互时，如果平台收到商户的应答不符合规范或超时，平台会判定本次通知失败，重新发送通知，直到成功为止</span></p></blockquote><p><strong><span>入参</span></strong></p><p><span>格式 json</span></p><figure><table><thead><tr><th><span>参数名称</span></th><th><span>说明</span></th><th><span>是否必填</span></th><th><span>类型</span></th></tr></thead><tbody><tr><td><span>gsn</span></td><td><span>游戏平台的appId</span></td><td>&nbsp;</td><td><span>String</span></td></tr><tr><td><span>sign</span></td><td><span>签名参数，计算规则请参考签名说明</span></td><td>&nbsp;</td><td><span>String</span></td></tr><tr><td><span>timestamp</span></td><td><span>时间戳，标准北京时间，时区为东八区，自1970年1月1日 0点0分0秒以来的秒数</span></td><td>&nbsp;</td><td><span>String</span></td></tr><tr><td><span>payTime</span></td><td><span>支付时需要显示的商品名称</span></td><td>&nbsp;</td><td><span>String</span></td></tr><tr><td><span>amount</span></td><td><span>支付金额</span></td><td>&nbsp;</td><td><span>String</span></td></tr><tr><td><span>out_trade_no</span></td><td><span>订单号</span></td><td>&nbsp;</td><td><span>String</span></td></tr></tbody></table></figure><p><strong><span>返回（应答）参数</span></strong></p><p><span>格式 json</span></p><figure><table><thead><tr><th><span>参数名称</span></th><th><span>说明</span></th><th><span>是否必填</span></th><th><span>类型</span></th></tr></thead><tbody><tr><td><span>return_code</span></td><td><span>SUCCESS/FAIL  SUCCESS表示接收通知成功并校验成功</span></td><td>&nbsp;</td><td><span>String</span></td></tr><tr><td><span>return_msg</span></td><td><span>返回信息</span></td><td>&nbsp;</td><td><span>String</span></td></tr></tbody></table></figure><h4><a name="签名说明" class="md-header-anchor"></a><span>签名说明</span></h4><blockquote><p><span>签名生成的通用步骤如下： </span>
        <span>第一步，设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串stringA。 </span>
        <span>特别注意以下重要规则： </span></p></blockquote><p><span>◆ 参数名ASCII码从小到大排序（字典序）； </span></p><p><span>◆ 如果参数的值为空不参与签名； </span></p><p><span>◆ 参数名区分大小写；  </span></p><p><span>◆ 平台在后续升级中可能增加字段，验证签名时必须支持增加的扩展字段 </span></p><blockquote><p><span>第二步，在stringA最后拼接上&amp;key=key得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue。</span></p></blockquote></div>
    </a-layout-content>
  </a-layout>
</template>

<script>
import 'doc/assets/markdown.less';
export default {
  name: 'H5Doc',
  props: {
    msg: String
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="less">
.ant-layout,.ant-layout-sider{
  background: white;
  height: 100%;
}

.ant-layout-sider{
  border-right: 1px solid #eee;
  /*box-shadow:5px 0px 4px 1px #dcdfe6;*/
  height: 100%;
}
</style>
